function splitDump(e){"use strict";return e.split("\n")}function whatShoudWeBeautify(){"use strict";var e=$("body").html();return e.substring(0,4)==="object".substring(0,4)?splitDump(e):e.substring(0,4)==="array".substring(0,4)?splitDump(e):!1}function removeTheDump(){"use strict";$("body").empty()}function addListners(){"use strict";$(".OpenClose").bind("click",collapse),$(".openall").bind("click",openAll),$(".closeall").bind("click",closeAll),$(".close").bind("click",function(){$(".modal").remove()})}function bootstrap_vardump(){"use strict";var e=whatShoudWeBeautify();if(e){removeTheDump();var t=generateTheTree(e);$("body").append(t.print()),DEBUG_PRINTJSON&&$("body").append(JSON.stringify(t)),addListners()}}function getSelectionHtml(){"use strict";var e="",t,n,i=0;if("undefined"!==window.getSelection){if(t=window.getSelection(),t.rangeCount){n=document.createElement("div");var o=t.rangeCount;for(i=0;o>i;++i)n.appendChild(t.getRangeAt(i).cloneContents());e=n.innerHTML}}else"undefined"!=typeof document.selection&&"Text"==document.selection.type&&(e=document.selection.createRange().htmlText);return e}function printModalTree(e){"use strict";e=getSelectionHtml();var t="<div class='DEADBEEF'><div class='modal'><div class='close'>Close</div>",n="</div></div>";e=splitDump(e);var i=generateTheTree(e);$("body").append(t+i.print()+n),addListners()}chrome.extension.sendRequest({method:"getAllOptions"},function(e){COLORS=e.colors,AUTORUN=e.autorun,CASCADE=e.cascade,"true"==AUTORUN&&bootstrap_vardump()}),chrome.extension.onMessage.addListener(function(e,t,n){"use strict";"printTree"==e.fn&&printModalTree(e.dump)});